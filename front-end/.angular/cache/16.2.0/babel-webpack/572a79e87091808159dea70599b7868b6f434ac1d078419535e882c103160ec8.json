{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { HttpHeaders } from '@angular/common/http';\nimport { Component } from '@angular/core';\nexport let DashboardComponent = class DashboardComponent {\n  constructor(http) {\n    this.http = http;\n    this.message = \"\";\n    this.token = null;\n    this.authenticated = false;\n    this.posts = [];\n    this.headers = new HttpHeaders().set('Authorization', `Bearer ${this.token}`);\n  }\n  ngOnInit() {\n    this.token = localStorage.getItem('token');\n    if (this.token) {\n      this.authenticated = true;\n      const fn = localStorage.getItem('firstname');\n      const ln = localStorage.getItem('lastname');\n      this.message = fn + '' + ln + \"'s newsfeed\";\n      this.fetchPosts();\n    }\n  }\n  fetchPosts() {\n    this.http.get('http://localhost:9000/user/post', {\n      headers: this.headers\n    }).subscribe(posts => {\n      this.posts = posts;\n    });\n  }\n};\nDashboardComponent = __decorate([Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})], DashboardComponent);","map":{"version":3,"names":["HttpHeaders","Component","DashboardComponent","constructor","http","message","token","authenticated","posts","headers","set","ngOnInit","localStorage","getItem","fn","ln","fetchPosts","get","subscribe","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\HP\\Desktop\\cpp\\new\\distributed_system\\front-end\\src\\app\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.css']\n})\nexport class DashboardComponent implements OnInit{\n  message: string = \"\";\n  token: string | null = null;\n  authenticated=false;\n  posts: any[] = [];\n  private headers = new HttpHeaders().set('Authorization', `Bearer ${this.token}`);\n  constructor(private http:HttpClient){}\n\n  ngOnInit():void{\n    this.token = localStorage.getItem('token')\n\n    if(this.token){\n      this.authenticated=true;\n      const fn= localStorage.getItem('firstname');\n      const ln= localStorage.getItem('lastname');\n      this.message= fn+''+ln+\"'s newsfeed\";\n      this.fetchPosts();\n    }\n  }\n  fetchPosts(): void {\n    this.http.get<any[]>('http://localhost:9000/user/post',{ headers: this.headers }).subscribe(posts => {\n      this.posts = posts;\n    });\n  }\n}\n"],"mappings":";AAAA,SAAqBA,WAAW,QAAQ,sBAAsB;AAC9D,SAASC,SAAS,QAAgB,eAAe;AAO1C,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAM7BC,YAAoBC,IAAe;IAAf,KAAAA,IAAI,GAAJA,IAAI;IALxB,KAAAC,OAAO,GAAW,EAAE;IACpB,KAAAC,KAAK,GAAkB,IAAI;IAC3B,KAAAC,aAAa,GAAC,KAAK;IACnB,KAAAC,KAAK,GAAU,EAAE;IACT,KAAAC,OAAO,GAAG,IAAIT,WAAW,EAAE,CAACU,GAAG,CAAC,eAAe,EAAE,UAAU,IAAI,CAACJ,KAAK,EAAE,CAAC;EAC3C;EAErCK,QAAQA,CAAA;IACN,IAAI,CAACL,KAAK,GAAGM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAE1C,IAAG,IAAI,CAACP,KAAK,EAAC;MACZ,IAAI,CAACC,aAAa,GAAC,IAAI;MACvB,MAAMO,EAAE,GAAEF,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;MAC3C,MAAME,EAAE,GAAEH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC1C,IAAI,CAACR,OAAO,GAAES,EAAE,GAAC,EAAE,GAACC,EAAE,GAAC,aAAa;MACpC,IAAI,CAACC,UAAU,EAAE;;EAErB;EACAA,UAAUA,CAAA;IACR,IAAI,CAACZ,IAAI,CAACa,GAAG,CAAQ,iCAAiC,EAAC;MAAER,OAAO,EAAE,IAAI,CAACA;IAAO,CAAE,CAAC,CAACS,SAAS,CAACV,KAAK,IAAG;MAClG,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;CACD;AAxBYN,kBAAkB,GAAAiB,UAAA,EAL9BlB,SAAS,CAAC;EACTmB,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWpB,kBAAkB,CAwB9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}